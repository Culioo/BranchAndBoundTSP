<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Combinatorial Optimaziation: Branch and Bound Algorithm for the Travelling Salesman Problem: header/tsp.hpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Combinatorial Optimaziation: Branch and Bound Algorithm for the Travelling Salesman Problem
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_1ec98ce50fa6ec55b40b8ffb1df38c3c.html">header</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">tsp.hpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="tsp_8hpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// Created by Alex Dyck and Leon Sievers ; last modified 1/18/18.</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#ifndef BRANCHANDBOUNDTSP_TSP_HPP</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#define BRANCHANDBOUNDTSP_TSP_HPP</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &lt;cstdlib&gt;</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &lt;fstream&gt;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &lt;cmath&gt;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &lt;string&gt;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &lt;climits&gt;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &lt;sstream&gt;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &lt;queue&gt;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &lt;numeric&gt;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &lt;utility&gt;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &lt;cassert&gt;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;util.hpp&quot;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="tree_8hpp.html">tree.hpp</a>&quot;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#define EPS 10e-7</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespaceTSP.html">TSP</a> {</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="keyword">using</span> size_type = std::size_t;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="keyword">using</span> NodeId = size_type;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="keyword">using</span> EdgeId = size_type;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">class</span> coord_type, <span class="keyword">class</span> dist_type&gt;</div><div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="classTSP_1_1BranchingNode.html">   42</a></span>&#160;<span class="keyword">class </span><a class="code" href="classTSP_1_1BranchingNode.html">BranchingNode</a>;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">class</span> coord_type, <span class="keyword">class</span> dist_type&gt;</div><div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="classTSP_1_1Instance.html">   45</a></span>&#160;<span class="keyword">class </span><a class="code" href="classTSP_1_1Instance.html">Instance</a>;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">class</span> coord_type, <span class="keyword">class</span> dist_type&gt;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="keyword">class </span><a class="code" href="classTSP_1_1Instance.html">Instance</a> {</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  <a class="code" href="classTSP_1_1Instance.html">Instance</a>(<span class="keyword">const</span> std::string &amp;filename);</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div><div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="classTSP_1_1Instance.html#a8d0deb55c708cc6e926b32fc298d60d1">   71</a></span>&#160;  dist_type <a class="code" href="classTSP_1_1Instance.html#a8d0deb55c708cc6e926b32fc298d60d1">distance</a>(coord_type x1, coord_type y1, coord_type x2, coord_type y2) {</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;      <span class="keywordflow">return</span> std::lround(std::sqrt((x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2)));</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  }</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classTSP_1_1Instance.html#a306e8ef90273445f42555d338887a9ed">compute_optimal_tour</a>();</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classTSP_1_1Instance.html#a6b1774de9fe5dcdaf2da3d9ff7f0d806">print_optimal_tour</a>(<span class="keyword">const</span> std::string &amp;filename);</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  <span class="comment">//Getter functions</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  size_type size()<span class="keyword"> const </span>{</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;      <span class="keywordflow">return</span> dimension;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  }</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  size_type num_edges()<span class="keyword"> const </span>{</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;      <span class="keywordflow">return</span> _weights.size();</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  }</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  dist_type weight(EdgeId <span class="keywordtype">id</span>)<span class="keyword"> const </span>{</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;      <span class="keywordflow">return</span> _weights.at(<span class="keywordtype">id</span>);</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  }</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  <span class="keyword">const</span> std::vector&lt;dist_type&gt; &amp;weights()<span class="keyword"> const </span>{</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;      <span class="keywordflow">return</span> _weights;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  }</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  <span class="keyword">const</span> dist_type &amp; length() {</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;      <span class="keywordflow">return</span> _length;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  }</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160; <span class="keyword">private</span>:</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  std::vector&lt;NodeId&gt; _nodes;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  std::vector&lt;dist_type&gt; _weights;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  size_type dimension;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  std::vector&lt;NodeId&gt; _tour;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  dist_type _length;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;};</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">class</span> coord_type, <span class="keyword">class</span> dist_type&gt;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="keyword">class </span><a class="code" href="classTSP_1_1BranchingNode.html">BranchingNode</a> {</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00131"></a><span class="lineno"><a class="line" href="classTSP_1_1BranchingNode.html#ae008ce73dea24bb2da75887253900473">  131</a></span>&#160;  <a class="code" href="classTSP_1_1BranchingNode.html#ae008ce73dea24bb2da75887253900473">BranchingNode</a>(<span class="keyword">const</span> <a class="code" href="classTSP_1_1Instance.html">Instance&lt;coord_type, dist_type&gt;</a> &amp;tsp</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  ) : size(tsp.size()), required(), required_neighbors(size), forbidden(),</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;      forbidden_neighbors(size), lambda(size, 0), tree(size) {</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;      HK = <a class="code" href="namespaceTSP.html#aa02b5d2fd460500a7e1e98b02da33813">Held_Karp</a>(tsp, this-&gt;lambda, this-&gt;tree, *<span class="keyword">this</span>, <span class="keyword">true</span>);</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  }</div><div class="line"><a name="l00142"></a><span class="lineno"><a class="line" href="classTSP_1_1BranchingNode.html#a7c225b395563f9d64febea67bbbe5394">  142</a></span>&#160;  <a class="code" href="classTSP_1_1BranchingNode.html#a7c225b395563f9d64febea67bbbe5394">BranchingNode</a>(<span class="keyword">const</span> <a class="code" href="classTSP_1_1BranchingNode.html">BranchingNode&lt;coord_type, dist_type&gt;</a> &amp;BNode,</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                <span class="keyword">const</span> <a class="code" href="classTSP_1_1Instance.html">Instance&lt;coord_type, dist_type&gt;</a> &amp;tsp,</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                EdgeId e1</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  ) : size(tsp.size()),</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;      required(BNode.get_required()),</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;      required_neighbors(BNode.required_neighbors),</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;      forbidden(BNode.get_forbidden()),</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;      forbidden_neighbors(BNode.forbidden_neighbors),</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;      lambda(BNode.get_lambda()),</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;      tree(tsp.size()) {</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;      add_forbidden(e1);</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;      HK = <a class="code" href="namespaceTSP.html#aa02b5d2fd460500a7e1e98b02da33813">Held_Karp</a>(tsp, this-&gt;lambda, this-&gt;tree, *<span class="keyword">this</span>);</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  }</div><div class="line"><a name="l00163"></a><span class="lineno"><a class="line" href="classTSP_1_1BranchingNode.html#a0e471c9be6f1fe647b71e8e7fd9f474e">  163</a></span>&#160;  <a class="code" href="classTSP_1_1BranchingNode.html#a0e471c9be6f1fe647b71e8e7fd9f474e">BranchingNode</a>(<span class="keyword">const</span> <a class="code" href="classTSP_1_1BranchingNode.html">BranchingNode&lt;coord_type, dist_type&gt;</a> &amp;BNode,</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                <span class="keyword">const</span> <a class="code" href="classTSP_1_1Instance.html">Instance&lt;coord_type, dist_type&gt;</a> &amp;tsp,</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                EdgeId e1,</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                EdgeId e2</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  ) : size(tsp.size()),</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;      required(BNode.get_required()),</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;      required_neighbors(BNode.required_neighbors),</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;      forbidden(BNode.get_forbidden()),</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;      forbidden_neighbors(BNode.forbidden_neighbors),</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;      lambda(BNode.get_lambda()),</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;      tree(tsp.size()) {</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;      add_required(e1);</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;      add_forbidden(e2);</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;      HK = <a class="code" href="namespaceTSP.html#aa02b5d2fd460500a7e1e98b02da33813">Held_Karp</a>(tsp, this-&gt;lambda, this-&gt;tree, *<span class="keyword">this</span>);</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  }</div><div class="line"><a name="l00186"></a><span class="lineno"><a class="line" href="classTSP_1_1BranchingNode.html#a23baf0d24e0be68e98b1e54815139026">  186</a></span>&#160;  <a class="code" href="classTSP_1_1BranchingNode.html#a23baf0d24e0be68e98b1e54815139026">BranchingNode</a>(<span class="keyword">const</span> <a class="code" href="classTSP_1_1BranchingNode.html">BranchingNode&lt;coord_type, dist_type&gt;</a> &amp;BNode,</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                <span class="keyword">const</span> <a class="code" href="classTSP_1_1Instance.html">Instance&lt;coord_type, dist_type&gt;</a> &amp;tsp,</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                EdgeId e1,</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                EdgeId e2,</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                <span class="keywordtype">bool</span> both_req</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  ) : size(tsp.size()),</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;      required(BNode.get_required()),</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;      required_neighbors(BNode.required_neighbors),</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;      forbidden(BNode.get_forbidden()),</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;      forbidden_neighbors(BNode.forbidden_neighbors),</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;      lambda(BNode.get_lambda()),</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;      tree(tsp.size()) {</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;      <span class="keywordflow">if</span> (both_req) {</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;          add_required(e1);</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;          add_required(e2);</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;      }</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;      HK = <a class="code" href="namespaceTSP.html#aa02b5d2fd460500a7e1e98b02da33813">Held_Karp</a>(tsp, this-&gt;lambda, this-&gt;tree, *<span class="keyword">this</span>);</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  }</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  <span class="keywordtype">bool</span> operator&gt;(<span class="keyword">const</span> <a class="code" href="classTSP_1_1BranchingNode.html">BranchingNode&lt;coord_type, dist_type&gt;</a> &amp;rhs) <span class="keyword">const</span>;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;</div><div class="line"><a name="l00220"></a><span class="lineno"><a class="line" href="classTSP_1_1BranchingNode.html#a5f04fd8afc44fa3965d87e0e28fa01c0">  220</a></span>&#160;  EdgeId <a class="code" href="classTSP_1_1BranchingNode.html#a5f04fd8afc44fa3965d87e0e28fa01c0">reverse_edge</a>(EdgeId e, size_type n)<span class="keyword"> const </span>{</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;      NodeId i = 0, j = 0;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;      to_NodeId(e, i, j, n);</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;      <span class="keywordflow">return</span> j * n + i;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  }</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;</div><div class="line"><a name="l00231"></a><span class="lineno"><a class="line" href="classTSP_1_1BranchingNode.html#aaafb7471fc91431065e446bdcd132ff8">  231</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classTSP_1_1BranchingNode.html#aaafb7471fc91431065e446bdcd132ff8">is_required</a>(EdgeId <span class="keywordtype">id</span>)<span class="keyword"> const </span>{</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;      <span class="keywordflow">return</span> (std::find(required.begin(), required.end(), id) != required.end()</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;          &amp;&amp; std::find(required.begin(), required.end(), reverse_edge(<span class="keywordtype">id</span>, size)) != required.end());</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  }</div><div class="line"><a name="l00240"></a><span class="lineno"><a class="line" href="classTSP_1_1BranchingNode.html#a95ec0c43a5d8aadeb586f76091f945af">  240</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classTSP_1_1BranchingNode.html#a95ec0c43a5d8aadeb586f76091f945af">is_forbidden</a>(EdgeId <span class="keywordtype">id</span>)<span class="keyword"> const </span>{</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;      <span class="keywordflow">return</span> (std::find(forbidden.begin(), forbidden.end(), id) != forbidden.end()</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;          &amp;&amp; std::find(forbidden.begin(), forbidden.end(), reverse_edge(<span class="keywordtype">id</span>, size)) != forbidden.end());</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  }</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  <span class="keywordtype">void</span> forbid(NodeId idx, EdgeId e1, EdgeId e2) ;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  <span class="keywordtype">void</span> admit(NodeId idx) ;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  <span class="keywordtype">bool</span> push_required(EdgeId e);</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  <span class="keywordtype">void</span> add_required(EdgeId e) ;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  <span class="keywordtype">bool</span> push_forbidden(EdgeId e);</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  <span class="keywordtype">void</span> add_forbidden(EdgeId e);</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  <span class="comment">//Getter functions</span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  <span class="keyword">const</span> std::vector&lt;EdgeId&gt; &amp;get_required()<span class="keyword"> const </span>{</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;      <span class="keywordflow">return</span> required;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  }</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  <span class="keyword">const</span> std::vector&lt;EdgeId&gt; &amp;get_forbidden()<span class="keyword"> const </span>{</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;      <span class="keywordflow">return</span> forbidden;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  }</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  <span class="keyword">const</span> std::vector&lt;dist_type&gt; &amp;get_lambda()<span class="keyword"> const </span>{</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;      <span class="keywordflow">return</span> lambda;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  }</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  std::vector&lt;dist_type&gt; &amp;get_lambda() {</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;      <span class="keywordflow">return</span> lambda;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  }</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  <span class="keyword">const</span> <a class="code" href="classTSP_1_1OneTree.html">OneTree</a> &amp;get_tree()<span class="keyword"> const </span>{</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;      <span class="keywordflow">return</span> tree;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  }</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;  <a class="code" href="classTSP_1_1OneTree.html">OneTree</a> &amp;get_tree() {</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;      <span class="keywordflow">return</span> tree;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  }</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  <span class="keyword">const</span> dist_type get_HK()<span class="keyword"> const </span>{</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;      <span class="keywordflow">return</span> this-&gt;HK;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  }</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  <span class="keyword">const</span> std::vector&lt;Node&gt; &amp;get_required_neighbors()<span class="keyword"> const </span>{</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;      <span class="keywordflow">return</span> required_neighbors;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  }</div><div class="line"><a name="l00318"></a><span class="lineno"><a class="line" href="classTSP_1_1BranchingNode.html#a44790ceabe450e8cc5fc718fbd3780da">  318</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classTSP_1_1BranchingNode.html#a44790ceabe450e8cc5fc718fbd3780da">tworegular</a>() {</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;el : tree.get_nodes())</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;          <span class="keywordflow">if</span> (el.degree() != 2)</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;              <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  }</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160; <span class="keyword">private</span>:</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  size_type size;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  std::vector&lt;EdgeId&gt; required;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  std::vector&lt;Node&gt; required_neighbors;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  std::vector&lt;EdgeId&gt; forbidden;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  std::vector&lt;Node&gt; forbidden_neighbors;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  std::vector&lt;double&gt; lambda;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  <a class="code" href="classTSP_1_1OneTree.html">OneTree</a> tree;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  dist_type HK;</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;};</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;}</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="tsp__impl_8hpp.html">tsp_impl.hpp</a>&quot;</span></div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="preprocessor">#endif // BRANCHANDBOUNDTSP_TSP_HPP</span></div><div class="ttc" id="classTSP_1_1BranchingNode_html_a95ec0c43a5d8aadeb586f76091f945af"><div class="ttname"><a href="classTSP_1_1BranchingNode.html#a95ec0c43a5d8aadeb586f76091f945af">TSP::BranchingNode::is_forbidden</a></div><div class="ttdeci">bool is_forbidden(EdgeId id) const</div><div class="ttdef"><b>Definition:</b> tsp.hpp:240</div></div>
<div class="ttc" id="tree_8hpp_html"><div class="ttname"><a href="tree_8hpp.html">tree.hpp</a></div><div class="ttdoc">Definition of the OneTree class and general thoughts about a tree structure. </div></div>
<div class="ttc" id="classTSP_1_1Instance_html_a6b1774de9fe5dcdaf2da3d9ff7f0d806"><div class="ttname"><a href="classTSP_1_1Instance.html#a6b1774de9fe5dcdaf2da3d9ff7f0d806">TSP::Instance::print_optimal_tour</a></div><div class="ttdeci">void print_optimal_tour(const std::string &amp;filename)</div><div class="ttdef"><b>Definition:</b> tsp_impl.hpp:344</div></div>
<div class="ttc" id="namespaceTSP_html"><div class="ttname"><a href="namespaceTSP.html">TSP</a></div><div class="ttdef"><b>Definition:</b> graph.hpp:21</div></div>
<div class="ttc" id="classTSP_1_1BranchingNode_html_a5f04fd8afc44fa3965d87e0e28fa01c0"><div class="ttname"><a href="classTSP_1_1BranchingNode.html#a5f04fd8afc44fa3965d87e0e28fa01c0">TSP::BranchingNode::reverse_edge</a></div><div class="ttdeci">EdgeId reverse_edge(EdgeId e, size_type n) const</div><div class="ttdef"><b>Definition:</b> tsp.hpp:220</div></div>
<div class="ttc" id="classTSP_1_1Instance_html"><div class="ttname"><a href="classTSP_1_1Instance.html">TSP::Instance</a></div><div class="ttdef"><b>Definition:</b> tsp.hpp:45</div></div>
<div class="ttc" id="classTSP_1_1Instance_html_a306e8ef90273445f42555d338887a9ed"><div class="ttname"><a href="classTSP_1_1Instance.html#a306e8ef90273445f42555d338887a9ed">TSP::Instance::compute_optimal_tour</a></div><div class="ttdeci">void compute_optimal_tour()</div><div class="ttdef"><b>Definition:</b> tsp_impl.hpp:275</div></div>
<div class="ttc" id="classTSP_1_1BranchingNode_html_a0e471c9be6f1fe647b71e8e7fd9f474e"><div class="ttname"><a href="classTSP_1_1BranchingNode.html#a0e471c9be6f1fe647b71e8e7fd9f474e">TSP::BranchingNode::BranchingNode</a></div><div class="ttdeci">BranchingNode(const BranchingNode&lt; coord_type, dist_type &gt; &amp;BNode, const Instance&lt; coord_type, dist_type &gt; &amp;tsp, EdgeId e1, EdgeId e2)</div><div class="ttdef"><b>Definition:</b> tsp.hpp:163</div></div>
<div class="ttc" id="classTSP_1_1Instance_html_a8d0deb55c708cc6e926b32fc298d60d1"><div class="ttname"><a href="classTSP_1_1Instance.html#a8d0deb55c708cc6e926b32fc298d60d1">TSP::Instance::distance</a></div><div class="ttdeci">dist_type distance(coord_type x1, coord_type y1, coord_type x2, coord_type y2)</div><div class="ttdef"><b>Definition:</b> tsp.hpp:71</div></div>
<div class="ttc" id="classTSP_1_1BranchingNode_html_ae008ce73dea24bb2da75887253900473"><div class="ttname"><a href="classTSP_1_1BranchingNode.html#ae008ce73dea24bb2da75887253900473">TSP::BranchingNode::BranchingNode</a></div><div class="ttdeci">BranchingNode(const Instance&lt; coord_type, dist_type &gt; &amp;tsp)</div><div class="ttdef"><b>Definition:</b> tsp.hpp:131</div></div>
<div class="ttc" id="classTSP_1_1BranchingNode_html_aaafb7471fc91431065e446bdcd132ff8"><div class="ttname"><a href="classTSP_1_1BranchingNode.html#aaafb7471fc91431065e446bdcd132ff8">TSP::BranchingNode::is_required</a></div><div class="ttdeci">bool is_required(EdgeId id) const</div><div class="ttdef"><b>Definition:</b> tsp.hpp:231</div></div>
<div class="ttc" id="classTSP_1_1BranchingNode_html"><div class="ttname"><a href="classTSP_1_1BranchingNode.html">TSP::BranchingNode</a></div><div class="ttdef"><b>Definition:</b> tsp.hpp:42</div></div>
<div class="ttc" id="namespaceTSP_html_aa02b5d2fd460500a7e1e98b02da33813"><div class="ttname"><a href="namespaceTSP.html#aa02b5d2fd460500a7e1e98b02da33813">TSP::Held_Karp</a></div><div class="ttdeci">dist_type Held_Karp(const TSP::Instance&lt; coord_type, dist_type &gt; &amp;tsp, std::vector&lt; double &gt; &amp;lambda, TSP::OneTree &amp;tree, const TSP::BranchingNode&lt; coord_type, dist_type &gt; &amp;bn, bool root=false)</div><div class="ttdef"><b>Definition:</b> tsp_impl.hpp:135</div></div>
<div class="ttc" id="classTSP_1_1OneTree_html"><div class="ttname"><a href="classTSP_1_1OneTree.html">TSP::OneTree</a></div><div class="ttdef"><b>Definition:</b> tree.hpp:37</div></div>
<div class="ttc" id="classTSP_1_1BranchingNode_html_a7c225b395563f9d64febea67bbbe5394"><div class="ttname"><a href="classTSP_1_1BranchingNode.html#a7c225b395563f9d64febea67bbbe5394">TSP::BranchingNode::BranchingNode</a></div><div class="ttdeci">BranchingNode(const BranchingNode&lt; coord_type, dist_type &gt; &amp;BNode, const Instance&lt; coord_type, dist_type &gt; &amp;tsp, EdgeId e1)</div><div class="ttdef"><b>Definition:</b> tsp.hpp:142</div></div>
<div class="ttc" id="classTSP_1_1BranchingNode_html_a44790ceabe450e8cc5fc718fbd3780da"><div class="ttname"><a href="classTSP_1_1BranchingNode.html#a44790ceabe450e8cc5fc718fbd3780da">TSP::BranchingNode::tworegular</a></div><div class="ttdeci">bool tworegular()</div><div class="ttdef"><b>Definition:</b> tsp.hpp:318</div></div>
<div class="ttc" id="classTSP_1_1BranchingNode_html_a23baf0d24e0be68e98b1e54815139026"><div class="ttname"><a href="classTSP_1_1BranchingNode.html#a23baf0d24e0be68e98b1e54815139026">TSP::BranchingNode::BranchingNode</a></div><div class="ttdeci">BranchingNode(const BranchingNode&lt; coord_type, dist_type &gt; &amp;BNode, const Instance&lt; coord_type, dist_type &gt; &amp;tsp, EdgeId e1, EdgeId e2, bool both_req)</div><div class="ttdef"><b>Definition:</b> tsp.hpp:186</div></div>
<div class="ttc" id="tsp__impl_8hpp_html"><div class="ttname"><a href="tsp__impl_8hpp.html">tsp_impl.hpp</a></div><div class="ttdoc">Implementation details for the tsp.hpp. One might ask, why we are using a .hpp. Well, templates have to be beforehand which is achieved by putting them into the header. This also holds for their implementation. There is one other way, but this is the way conforming the current ISO. </div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Jan 18 2018 14:00:26 for Combinatorial Optimaziation: Branch and Bound Algorithm for the Travelling Salesman Problem by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
